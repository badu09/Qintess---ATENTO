function OlosAgent(){var a=0,c={},d=enumAgentStatus.NOTHING.value;this.trigger=function(a,b){c[a]&&c[a].fire(b)},this.on=function(a,b){c[a]||(c[a]=$.Callbacks()),c[a].add(b)},this.off=function(a){c[a]&&(c[a]=null)},this.setStatus=function(a){d=a,this.isAgentInWrapStatus()&&(this.trigger("dispositionPending"),this.off("dispositionPending")),d===enumAgentStatus.PAUSE.value&&(this.trigger("pauseCancel",this.agentId),this.off("pauseCancel"),this.trigger("changePauseReason",this.agentId),this.off("changePauseReason"))},this.getStatus=function(){return d},this.getId=function(){return a},this.isAgentInWrapStatus=function(){return d===enumAgentStatus.WRAP.value||d===enumAgentStatus.WRAP_WITH_PAUSE.value||d===enumAgentStatus.WRAP_WITH_PRIVATE_CALLBACK.value||d===enumAgentStatus.WRAP_WITH_MANUAL_CALL.value||d===enumAgentStatus.WRAP_WITH_ENDING.value||d===enumAgentStatus.WRAP_WITH_PERSONAL_CALL.value?!0:!1},this.isAgentInPendingPauseStatus=function(){return d===enumAgentStatus.TALKING_WITH_PAUSE.value||d===enumAgentStatus.WRAP_WITH_PAUSE.value?!0:!1}}function OlosActiveCall(){var a=0,b=0,c=0,d=0,e=0,f="",g="",h={};this.trigger=function(a,b){h[a]&&h[a].fire(b)},this.on=function(a,b){h[a]||(h[a]=$.Callbacks()),h[a].add(b)},this.off=function(a){h[a]&&(h[a]=null)},this.setCallIdToUnHold=function(a){this.callIdToUnHold=a,this.trigger("unHoldCall",a),this.off("unHoldCall")},this.resetAll=function(){a=0,b=0,c=0,d=0,e=0,f="",g=""}}function OlosAgentWS(){var c,d,e,f,g,i,a=new OlosAgent,b=new OlosActiveCall,h={},j=0,k=0;this.trigger=function(a,b){h[a]&&h[a].fire(b)},this.on=function(a,b){h[a]||(h[a]=$.Callbacks()),h[a].add(b)},this.off=function(a){h[a]&&(h[a]=null)},this.connect=function(a){c=a.wsAgentCmd,d=a.wsAgentEvt,e=a.wsMailingCmd,f=a.wsAgentConfigCmd,g=a.wsIntegration},this.setLoger=function(a){i=a},this.getAgentStatus=function(){return a.getStatus()},this.getAgentId=function(){return a.getId()},this.defaultAjaxCallError=function(a,b,c){return function(d,e,f){i.error("ERROR REQUESTING = [ URL: "+a+"/"+b+"?"+c+" ]")}},this.ajaxCall=function(a,b,d,e,f){i.loggerWindow(c+"/"+b+"?"+d);var g=$.ajax({url:a+"/"+b,dataType:"jsonp",jsonp:"callback",context:this,data:d});g.done(e),g.fail(f)},this.ajaxCallAgentCmd=function(a,b,d,e){i.info(c+"/"+a+"?"+b),this.ajaxCall(c,a,b,d,e)},this.ajaxCallAgentEvt=function(a,b,c,e){i.debug(d+"/"+a+"?"+b),this.ajaxCall(d,a,b,c,e)},this.agentAuthentication=function(b,d,e){var f="AgentAuthentication",g="Login="+b+"&Password="+d+"&ForceLogout=true",h=function(b){a.agentId=b.agentId,a.setStatus(enumAgentStatus.NOTHING),e instanceof Function?e.call(this,a.agentId):this.trigger("agentAuthentication",a.agentId),clearTimeout(j),clearTimeout(k),this.getNextEvent()},i=this.defaultAjaxCallError.call(this,c,f,g);this.ajaxCallAgentCmd(f,g,h,i)},this.agentAuthenticationWithPause=function(b,d,e,f){var g="AgentAuthenticationWithPause",h="Login="+b+"&Password="+d+"&ForceLogout=true&reasonCode="+e,i=function(b){a.agentId=b.agentId,a.setStatus(enumAgentStatus.NOTHING),f instanceof Function?f.call(this,a.agentId):this.trigger("agentAuthentication",a.agentId),clearTimeout(j),clearTimeout(k),this.getNextEvent()},l=this.defaultAjaxCallError.call(this,c,g,h);this.ajaxCallAgentCmd(g,h,i,l)},this.agentReasonRequest=function(b){var c=function(a,b,c){var d="AgentReasonRequest",e="AgentId="+a+"&ReasonId="+b,f=function(a){},g=function(a,b,c){};c.ajaxCallAgentCmd(d,e,f,g)};a.isAgentInPendingPauseStatus()?a.on("changePauseReason",function(a){c(a,b,this)}.bind(this)):c(a.agentId,b,this)},this.agentReasonRequestByCode=function(b){var c=function(a,b,c){var d="AgentReasonRequestByCode",e="AgentId="+a+"&ReasonCode="+b,f=function(a){},g=function(a,b,c){};c.ajaxCallAgentCmd(d,e,f,g)};a.isAgentInPendingPauseStatus()?a.on("changePauseReason",function(a){c(a,b,this)}.bind(this)):c(a.agentId,b,this)},this.agentIdleRequest=function(){var b=function(a,b){var c="AgentIdleRequest",d="AgentId="+a,e=function(a){},f=function(a,b,c){};b.ajaxCallAgentCmd(c,d,e,f)};a.isAgentInPendingPauseStatus()?(a.off("changePauseReason"),a.on("pauseCancel",function(a){b(a,this)}.bind(this))):b(a.agentId,this)},this.agentLogout=function(){var b="AgentLogout",c="AgentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.updateAgentIpAddress=function(b){var c="UpdateAgentIpAddress",d="AgentId="+a.agentId+"&Ip="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.updateMailingData=function(c,d,e,f){var g="UpdateMailingData",h="agentId="+a.agentId+"&campaignId="+b.campaignId+"&tableName="+b.tableName+"&customerId="+b.customerId+"&mailingData="+f,i=function(a){},j=function(a,b,c){};this.ajaxCallAgentCmd(g,h,i,j)},this.updateCallData=function(c,d){var e="UpdateCallData",f="agentId="+a.agentId+"&callId="+b.callId+"&customerId="+b.customerId+"&campaignData="+c,g=function(a){},h=function(a,b,c){};this.ajaxCallAgentCmd(e,f,g,h)},this.transferCallRequest=function(){var c="TransferCallRequest",d="agentId="+a.agentId+"&callId="+b.callIdConsulting,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.blindTransferCallRequest=function(b,c){var d="BlindTransferCallRequest",e="agentId="+a.agentId+"&phoneNumber="+b+"&uuiData="+c,f=function(a){},g=function(a,b,c){};this.ajaxCallAgentCmd(d,e,f,g)},this.thirdPartyIdleRequest=function(){var b="ThirdPartyIdleRequest",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.thirdPartyHangupRequest=function(b){var c="ThirdPartyHangupRequest",d="agentId="+a.agentId+"&ThirdPartyCallId="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.thirdPartyBlindTransferRequest=function(b){var c="ThirdPartyBlindTransferRequest",d="agentId="+a.agentId+"&phoneNumber="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.stopRecPrompt=function(){var b="StopRecPrompt",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.stopPrompt=function(b){var c="StopPrompt",d="agentId="+a.agentId+"&promptId="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.stopBroadcastMedia=function(){var b="StopBroadcastMedia",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.startChat=function(c,d){var e="StartChat",f="agentId="+a.agentId+"&campaignId="+b.campaignId+"&toCampaignId="+d,g=function(a){},h=function(a,b,c){};this.ajaxCallAgentCmd(e,f,g,h)},this.sendPreviewCallRequest=function(b){var c="SendPreviewCallRequest",d="agentId="+a.agentId+"&phoneNumber="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.sendMyContact=function(c,d){var e="SendMyContact",f="agentId="+a.agentId+"&chatId="+c+"&callId="+b.callId,g=function(a){},h=function(a,b,c){};this.ajaxCallAgentCmd(e,f,g,h)},this.sendManualCallRequest=function(b,c,d){var e="SendManualCallRequest",f="agentId="+a.agentId+"&ddd="+b+"&phoneNumber="+c+"&campaignId="+d,g=function(a){},h=function(a,b,c){};this.ajaxCallAgentCmd(e,f,g,h)},this.retrievesCall=function(){b.on("unHoldCall",function(b){var c="RetrievesCall",d="agentId="+a.agentId+"&callId="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)}.bind(this)),this.listActiveCalls()},this.resumeBroadcastMedia=function(){var b="ResumeBroadcastMedia",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.removePrompt=function(b){var c="RemovePrompt",d="agentId="+a.agentId+"&promptId="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.redialRequest=function(){var b="RedialRequest",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.recPrompt=function(b){var c="RecPrompt",d="agentId="+a.agentId+"&promptId="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.readyToWork=function(){var b="ReadyToWork",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.playPrompt=function(b){var c="PlayPrompt",d="agentId="+a.agentId+"&promptId="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},pauseBroadcastMedia=function(){var b="PauseBroadcastMedia",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.newPrompt=function(b,c){var d="NewPrompt",e="agentId="+a.agentId+"&companyId="+b+"&description="+c,f=function(a){},g=function(a,b,c){};this.ajaxCallAgentCmd(d,e,f,g)},this.newChatMsg=function(b,c){var d="NewChatMsg",e="agentId="+a.agentId+"&ChatId="+b+"&Msg="+c,f=function(a){},g=function(a,b,c){};this.ajaxCallAgentCmd(d,e,f,g)},this.markRecordingRequest=function(c,d){var e="MarkRecordingRequest",f="agentId="+a.agentId+"&CallId="+b.callId+"&Description="+d,g=function(a){},h=function(a,b,c){};this.ajaxCallAgentCmd(e,f,g,h)},this.manualCallStateRequest=function(){var b="ManualCallStateRequest",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.listReasons=function(b){var d="ListReasons",e="agentId="+a.agentId,f=function(a){b instanceof Function?b.call(this,a):this.trigger("listReasons",a),i.info(a)},g=this.defaultAjaxCallError.call(this,c,d,e);this.ajaxCallAgentCmd(d,e,f,g)},this.listPromptsWhereCampaignId=function(a){var c="ListPromptsWhereCampaignId",d="campaignId="+b.campaignId,e=function(a){this.trigger("listPromptsWhereCampaignId",a),i.info(a)},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.listPromptsByCompanyId=function(b){var c="ListPromptsByCompanyId",d="agentId="+a.agentId+"&companyId="+b,e=function(a){this.trigger("listPromptsByCompanyId",a),i.info(a)},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.listPromptsByAgentId=function(){var b="ListPromptsByAgentId",c="agentId="+a.agentId,d=function(a){this.trigger("listPromptsByAgentId",a),i.info(a)},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.listOnlineAgents=function(){var b="ListOnlineAgents",c="agentId="+a.agentId,d=function(a){this.trigger("listOnlineAgents",a),i.info(a+": "+err)},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.listAvailableOnlineAgents=function(){var b="ListAvailableOnlineAgents",c="agentId="+a.agentId,d=function(a){this.trigger("listAvailableOnlineAgents",a),i.info(a+": "+err)},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.listDispositions=function(a){var c="ListDispositions",d="campaignId="+b.campaignId,e=function(a){this.trigger("listDispositions",a),i.info(a)},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.listDispositionsEx=function(a){var c="ListDispositionsEx",d="campaignId="+b.campaignId,e=function(a){this.trigger("listDispositions",a),i.info(a)},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.listCompanies=function(){var b="ListCompanies",c="agentId="+a.agentId,d=function(a){this.trigger("listCompanies",a),i.info(a)},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.listCampaignsToConsulting=function(a){var c="ListCampaignsToConsulting",d="CampaignId="+b.campaignId,e=function(a){this.trigger("listCampaignsToConsulting",a),i.info(a)},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.listCampaignsToChat=function(a){var c="ListCampaignsToChat",d="CampaignId="+b.campaignId,e=function(a){this.trigger("listCampaignsToChat",a),i.info(a)},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.listCampaignCompany=function(){var a="ListCampaignCompany",b="",c=function(a){this.trigger("listCampaignCompany",a),i.info(a)},d=function(a,b,c){};this.ajaxCallAgentCmd(a,b,c,d)},this.listActiveCalls=function(){var b="ListActiveCalls",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.hangupRequest=function(){var d="HangupRequest",e="agentId="+a.agentId+"&callId="+b.callIdActive,f=function(a){i.info(a)},g=this.defaultAjaxCallError.call(this,c,d,e);this.ajaxCallAgentCmd(d,e,f,g)},this.hangupAndDispositionCallByCode=function(d){var e="HangupAndDispositionCallByCode",f="agentId="+a.agentId+"&dispositionCode="+d+"&callId="+b.callId,g=function(a){i.info(a)},h=this.defaultAjaxCallError.call(this,c,e,f);this.ajaxCallAgentCmd(e,f,g,h)},this.hangupAndDispositionCallBackByCode=function(d,e,f,g,h,j,k,l){var m="HangupAndDispositionCallBackByCode",n="agentId="+a.agentId+"&dispositionCode="+d+"&callId="+b.callId+"&year="+e+"&month="+f+"&day="+g+"&hour="+h+"&minute="+j+"&phoneNumber="+k+"&specificAgent="+l,o=function(a){i.info(a)},p=this.defaultAjaxCallError.call(this,c,m,n);this.ajaxCallAgentCmd(m,n,o,p)},this.hangupAndDispositionCallBack=function(d,e,f,g,h,j,k,l){var m="HangupAndDispositionCallBack",n="agentId="+a.agentId+"&dispositionId="+d+"&callId="+b.callId+"&year="+e+"&month="+f+"&day="+g+"&hour="+h+"&minute="+j+"&phoneNumber="+k+"&specificAgent="+l,o=function(a){i.info(a)},p=this.defaultAjaxCallError.call(this,c,m,n);this.ajaxCallAgentCmd(m,n,o,p)},this.hangupAndDispositionCall=function(d){var e="HangupAndDispositionCall",f="agentId="+a.agentId+"&dispositionId="+d+"&callId="+b.callId,g=function(a){i.info(a)},h=this.defaultAjaxCallError.call(this,c,e,f);this.ajaxCallAgentCmd(e,f,g,h)},this.endManualCallStateRequest=function(){var b="EndManualCallStateRequest",d="agentId="+a.agentId,e=function(a){i.info(a)},f=this.defaultAjaxCallError.call(this,c,b,d);this.ajaxCallAgentCmd(b,d,e,f)},this.endChat=function(b){var d="EndChat",e="agentId="+a.agentId+"&chatId="+b,f=function(a){i.info(a)},g=this.defaultAjaxCallError.call(this,c,d,e);this.ajaxCallAgentCmd(d,e,f,g)},this.dispositionCallByCode=function(d){var e=function(){var e="DispositionCallByCode",f="agentId="+a.agentId+"&dispositionCode="+d+"&callId="+b.callId,g=function(a){i.info(a)},h=this.defaultAjaxCallError.call(this,c,e,f);this.ajaxCallAgentCmd(e,f,g,h)};a.isAgentInWrapStatus()?e.call(this):(a.on("dispositionPending",function(){e.call(this)}.bind(this)),this.hangupRequest())},this.dispositionCallBackByCode=function(d,e,f,g,h,j,k,l){var m=function(){var m="DispositionCallBackByCode",n="agentId="+a.agentId+"&dispositionCode="+d+"&callId="+b.callId+"&year="+e+"&month="+f+"&day="+g+"&hour="+h+"&minute="+j+"&phoneNumber="+k+"&specificAgent="+l,o=function(a){i.info(a)},p=this.defaultAjaxCallError.call(this,c,m,n);this.ajaxCallAgentCmd(m,n,o,p)};a.isAgentInWrapStatus()?m.call(this):(a.on("dispositionPending",function(){m.call(this)}.bind(this)),this.hangupRequest())},this.dispositionCallBack=function(d,e,f,g,h,j,k,l){var m=function(){var m="DispositionCallBack",n="agentId="+a.agentId+"&dispositionId="+d+"&callId="+b.callId+"&year="+e+"&month="+f+"&day="+g+"&hour="+h+"&minute="+j+"&phoneNumber="+k+"&specificAgent="+l,o=function(a){i.info(a)},p=this.defaultAjaxCallError.call(this,c,m,n);this.ajaxCallAgentCmd(m,n,o,p)};a.isAgentInWrapStatus()?m.call(this):(a.on("dispositionPending",function(){m.call(this)}.bind(this)),this.hangupRequest())},this.dispositionCall=function(d){var e=function(){var e="DispositionCall",f="agentId="+a.agentId+"&dispositionId="+d+"&callId="+b.callId,g=function(a){i.info(a)},h=this.defaultAjaxCallError.call(this,c,e,f);this.ajaxCallAgentCmd(e,f,g,h)};a.isAgentInWrapStatus()?e.call(this):(a.on("dispositionPending",function(){e.call(this)}.bind(this)),this.hangupRequest())},this.consultingRequest=function(b,c,d){var e="ConsultingRequest",f="agentId="+a.agentId+"&phoneNumber="+b+"&campaignId="+c+"&uuiData="+d,g=function(a){},h=function(a,b,c){};this.ajaxCallAgentCmd(e,f,g,h)},this.consultingAgentRequest=function(b,c,d){var e="ConsultingAgentRequest",f="agentId="+a.agentId+"&transferAgentId="+b+"&transferLogin="+c+"&uuiData="+d,g=function(a){},h=function(a,b,c){};this.ajaxCallAgentCmd(e,f,g,h)},this.commitPrompt=function(){var b="CommitPrompt",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.closeCustomer=function(){var b="CloseCustomer",c="agentId="+a.agentId,d=function(a){},e=function(a,b,c){};this.ajaxCallAgentCmd(b,c,d,e)},this.closeCustomerWithDispositionId=function(b){var c="CloseCustomerWithDispositionId",d="agentId="+a.agentId+"&dispositionId="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.closeCustomerWithDispositionCode=function(b){var c="CloseCustomerWithDispositionCode",d="agentId="+a.agentId+"&dispositionCode="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.broadcastMedia=function(b){var c="BroadcastMedia",d="agentId="+a.agentId+"&promptId="+b,e=function(a){},f=function(a,b,c){};this.ajaxCallAgentCmd(c,d,e,f)},this.getAllEventObjectProps=function(a){var b="";if(a)for(var c in a)b+=c+": "+a[c]+" ";return b||(b=a),b},this.getNextEvent=function Ba(){var d="GetNextEvent",e="agentId="+a.agentId,f=function(c){switch(c.agentEventType){case enumAgentEventType.NOTHING:break;case enumAgentEventType.ACTIVE_CALL:b.callIdActive=c.genericInt;break;case enumAgentEventType.LIST_ACTIVE_CALLS:if(null!=c.eventObjectActiveCall){var d=c.eventObjectActiveCall;switch(d.length){case 1:b.setCallIdToUnHold(d[0].callId);break;case 2:b.callIdActive===d[0].callId?b.setCallIdToUnHold(d[1].callId):b.setCallIdToUnHold(d[0].callId);break;default:b.callIdActive===d[0].callId?b.setCallIdToUnHold(d[1].callId):b.setCallIdToUnHold(d[0].callId)}}break;case enumAgentEventType.CHANGE_MANUAL_CALL_STATE:b.callId=c.eventObjectManualCallState.callId,b.callIdActive=b.callId,b.campaignId=0;break;case enumAgentEventType.SCREEN_POP:b.callId=c.eventObjectScreenPop.callId,b.campaignId=c.eventObjectScreenPop.campaignId,b.customerId=c.eventObjectScreenPop.customerId,b.tableName=c.eventObjectScreenPop.tableName,b.callIdConsulting=c.eventObjectScreenPop.callId,b.callIdToUnHold=b.callId;break;case enumAgentEventType.ChangePreviewCallState:b.callId=c.eventObject.callId;break;case enumAgentEventType.LOGOUT_CCM:a.setStatus(enumAgentStatus.ENDING);break;case enumAgentEventType.CHANGE_STATUS:switch(a.setStatus(c.eventObjectAgentChangeStatus.agentStatusId),a.getStatus()){case enumAgentStatus.IDLE.value:b.resetAll();break;case enumAgentStatus.MANUAL_CALL.value:b.resetAll();break;case enumAgentStatus.PAUSE.value:b.resetAll();break;case enumAgentStatus.HOLDING.value:a.getStatus()===enumAgentStatus.TALKING||a.getStatus()===enumAgentStatus.TALKING_WITH_ENDING||a.getStatus()===enumAgentStatus.TALKING_WITH_MANUAL_CALL||a.getStatus()===enumAgentStatus.TALKING_WITH_PAUSE||a.getStatus()===enumAgentStatus.TALKING_WITH_PERSONAL_CALL||a.getStatus()===enumAgentStatus.TALKING_WITH_PRIVATE_CALLBACK?b.setCallIdToUnHold(b.callIdConsulting):(b.setCallIdToUnHold(b.callId),b.callIdConsulting=0);break;case enumAgentStatus.PERSONAL_CALL.value:b.callIdActive=b.callId}}c.agentEventType===enumAgentEventType.NOTHING?a.getStatus()!==enumAgentStatus.ENDING&&(j=setTimeout(Ba.bind(this),1500)):(olosEvents(c),this.trigger("events",c),this.trigger(c.agentEventType.toLowerCase(),c.eventObject),i.info("EventType (objEvent.agentEventType): ["+c.agentEventType+"]  EventData (objEvent.eventObject): ["+this.getAllEventObjectProps(c.eventObject)+" ]"),i.loggerWindow("EventType (objEvent.agentEventType): ["+c.agentEventType+"]  EventData (objEvent.eventObject): ["+this.getAllEventObjectProps(c.eventObject)+" ]"),k=setTimeout(Ba.bind(this),0))},g=this.defaultAjaxCallError.call(this,c,d,e);this.ajaxCallAgentEvt(d,e,f,g)},this.getActiveCall=function(){return b},this.getListStatus=function(){return objAgentStatus}}function OlosMailingWS(){var a,b,c,d,e,g,f={};this.setActiveCall=function(a){g=a},this.trigger=function(a,b){f[a]&&f[a].fire(b)},this.on=function(a,b){f[a]||(f[a]=$.Callbacks()),f[a].add(b)},this.off=function(a){f[a]&&(f[a]=null)},this.connect=function(f){a=f.wsAgentCmd,b=f.wsAgentEvt,c=f.wsMailingCmd,d=f.wsAgentConfigCmd,e=f.wsIntegration},this.ajaxCall=function(a,b,d,e){$.ajax({url:c+"/"+a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",context:this,data:b,success:d,error:e})},this.listMailings=function(a,b){var c="ListMailingsJSON",d="CampaignId="+a,e=function(a){b instanceof Function?b.call(this,a):this.trigger("listMailings",a)},f=function(a,b,c){this.logger.info(b+": "+c)};this.ajaxCall(c,d,e,f)},this.finalizeClient=function(a,b,c,d){var e="FinalizeClientJSON",f="MailingName="+a+"&DispositionId="+b+"&CustomerId="+c,g=function(a){d instanceof Function?d.call(this,a):this.trigger("finalizeClient",a)},h=function(a,b,c){this.logger.info(b+": "+c)};this.ajaxCall(e,f,g,h)},this.finalizeClientByDispositionCode=function(a,b,c,d,e){var f="FinalizeClientByDispositionCodeJSON",g="CampaignId="+a+"&MailingName="+b+"&DispositionCode="+c+"&CustomerId="+d,h=function(a){e instanceof Function?e.call(this,a):this.trigger("finalizeClientByDispositionCode",a)},i=function(a,b,c){this.logger.info(b+": "+c)};this.ajaxCall(f,g,h,i)},this.invalidatePhoneNumber=function(a,b,c){var d="FinalizeClientByPhoneNumberJSON",e="MailingName="+g.tableName+"&CustomerId="+g.customerId+"&TypePhoneId=1&PhoneNumber="+b,f=function(a){c instanceof Function?c.call(this,a):this.trigger("invalidatePhoneNumber",a)},h=function(a,b,c){this.logger.info(b+": "+c)};this.ajaxCall(d,e,f,h)},this.insertPhoneNumber=function(a,b,c){var d="InsertPhoneNumberJSON",e="MailingName="+g.tableName+"&CustomerId="+g.customerId+"&TypePhoneId=1&PhoneNumber="+a+b,f=function(a){c instanceof Function?c.call(this,a):this.trigger("insertPhoneNumber",a)},h=function(a,b,c){this.logger.info(b+": "+c)};this.ajaxCall(d,e,f,h)}}function OlosIntegrationWS(){var a,b,c,d,e,g,f={};this.setActiveCall=function(a){g=a},this.trigger=function(a,b){f[a]&&f[a].fire(b)},this.on=function(a,b){f[a]||(f[a]=$.Callbacks()),f[a].add(b)},this.off=function(a){f[a]&&(f[a]=null)},this.connect=function(f){a=f.wsAgentCmd,b=f.wsAgentEvt,c=f.wsMailingCmd,d=f.wsAgentConfigCmd,e=f.wsIntegration},this.ajaxCall=function(a,b,c,d){$.ajax({url:e+"/"+a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",context:this,data:b,success:c,error:d})},this.listAvailableOnlineAgentsByCompany=function(a,b){var c="ListAvailableOnlineAgentsByCompany",d="AgentId="+a,e=function(a){b instanceof Function?b.call(this,a):this.trigger("listAvailableOnlineAgentsByCompany",a)},f=function(a,b,c){};this.ajaxCall(c,d,e,f)},this.listCampaignsToConsulting=function(a,b){var c="ListCampaignsToConsulting",d="CampaignId="+a,e=function(a){b instanceof Function?b.call(this,a):this.trigger("listCampaignsToConsulting",a)},f=function(a,b,c){};this.ajaxCall(c,d,e,f)}}function OlosUserConfigWS(){this.wsAgentCmd,this.wsAgentEvt,this.wsMailingCmd,this.wsAgentConfigCmd,this.wsIntegration,this._callbacks={}}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});var enumAgentStatus={NOTHING:{id:"NOTHING",value:"Nothing"},IDLE:{id:"IDLE",value:"Idle"},TALKING:{id:"TALKING",value:"Talking"},WRAP:{id:"WRAP",value:"Wrap"},PAUSE:{id:"PAUSE",value:"Pause"},ENDING:{id:"ENDING",value:"Ending"},TALKING_WITH_PAUSE:{id:"TALKING_WITH_PAUSE",value:"TalkingWithPause"},WRAP_WITH_PAUSE:{id:"WRAP_WITH_PAUSE",value:"WrapWithPause"},TALKING_WITH_ENDING:{id:"TALKING_WITH_ENDING",value:"TalkingWithEnding"},WRAP_WITH_ENDING:{id:"WRAP_WITH_ENDING",value:"WrapWithEnding"},CONSULTING:{id:"CONSULTING",value:"Consulting"},IN_CHAT:{id:"IN_CHAT",value:"Chat"},IN_CHAT_WITH_PAUSE:{id:"IN_CHAT_WITH_PAUSE",value:"ChatWithPause"},IN_CHAT_WITH_ENDING:{id:"IN_CHAT_WITH_ENDING",value:"ChatWithEnding"},CONSULTING_WITH_PAUSE:{id:"CONSULTING_WITH_PAUSE",value:"ConsultingWithPause"},CONSULTING_WITH_ENDING:{id:"CONSULTING_WITH_ENDING",value:"ConsultingWithEnding"},TRANSFER:{id:"TRANSFER",value:"Transfer"},HOLDING:{id:"HOLDING",value:"Holding"},HOLDING_WITH_PAUSE:{id:"HOLDING_WITH_PAUSE",value:"HoldingWithPause"},HOLDING_WITH_ENDING:{id:"HOLDING_WITH_ENDING",value:"HoldingWithEnding"},MANUAL_CALL:{id:"MANUAL_CALL",value:"ManualCall"},TALKING_WITH_MANUAL_CALL:{id:"TALKING_WITH_MANUAL_CALL",value:"TalkingWithManualCall"},WRAP_WITH_MANUAL_CALL:{id:"WRAP_WITH_MANUAL_CALL",value:"WrapWithManualCall"},CONSULTING_WITH_MANUAL_CALL:{id:"CONSULTING_WITH_MANUAL_CALL",value:"ConsultingWithManualCall"},HOLDING_WITH_MANUAL_CALL:{id:"HOLDING_WITH_MANUAL_CALL",value:"HoldingWithManualCall"},REDIAL:{id:"REDIAL",value:"Redial"},PRIVATE_CALLBACK:{id:"PRIVATE_CALLBACK",value:"PrivateCallback"},TALKING_WITH_PRIVATE_CALLBACK:{id:"TALKING_WITH_PRIVATE_CALLBACK",value:"TalkingWithPrivateCallback"},WRAP_WITH_PRIVATE_CALLBACK:{id:"WRAP_WITH_PRIVATE_CALLBACK",value:"WrapWithPrivateCallback"},MANUALCALL_WITH_PRIVATE_CALLBACK:{id:"MANUALCALL_WITH_PRIVATE_CALLBACK",value:"ManualCallWithPrivateCallback"},CONSULTING_WITH_PRIVATE_CALLBACK:{id:"CONSULTING_WITH_PRIVATE_CALLBACK",value:"ConsultingWithPrivateCallback"},HOLDING_WITH_PRIVATE_CALLBACK:{id:"HOLDING_WITH_PRIVATE_CALLBACK",value:"HoldingWithPrivateCallback"},THIRD_PARTY_CAMPAIGN:{id:"THIRD_PARTY_CAMPAIGN",value:"ThirdPartyCampaign"},PERSONAL_CALL:{id:"PERSONAL_CALL",value:"PersonalCall"},TALKING_WITH_PERSONAL_CALL:{id:"TALKING_WITH_PERSONAL_CALL",value:"TalkingWithPersonalCall"},WRAP_WITH_PERSONAL_CALL:{id:"WRAP_WITH_PERSONAL_CALL",value:"WrapWithPersonalCall"},MANUALCALL_WITH_PERSONAL_CALL:{id:"MANUALCALL_WITH_PERSONAL_CALL",value:"ManualCallWithPersonalCall"},CONSULTING_WITH_PERSONAL_CALL:{id:"CONSULTING_WITH_PERSONAL_CALL",value:"ConsultingWithPersonalCall"},HOLDING_WITH_PERSONAL_CALL:{id:"HOLDING_WITH_PERSONAL_CALL",value:"HoldingWithPersonalCall"},PERSONAL_CALL_WITH_PAUSE:{id:"PERSONAL_CALL_WITH_PAUSE",value:"PersonalCallWithPause"},Analyzing:{id:"Analyzing",value:"Analyzing"},AnalyzingWithPersonalCall:{id:"AnalyzingWithPersonalCall",value:"AnalyzingWithPersonalCall"},"Attempting ":{id:"Attempting ",value:"Attempting "},"AttemptingWithPersonalCall ":{id:"AttemptingWithPersonalCall ",value:"AttemptingWithPersonalCall "},"AfterAttempting ":{id:"AfterAttempting ",value:"AfterAttempting "},"AfterAttemptWithPersonalCall  ":{id:"AfterAttemptWithPersonalCall  ",value:"AfterAttemptWithPersonalCall  "},"RedialWithPersonalCall ":{id:"RedialWithPersonalCall ",value:"RedialWithPersonalCall "}},objAgentStatus={Nothing:{value:"Nothing",description:"Nothing"},Idle:{value:"Idle",description:"Livre"},Talking:{value:"Talking",description:"Falando"},Wrap:{value:"Wrap",description:"Tabulando"},Pause:{value:"Pause",description:"Pausa"},Ending:{value:"Ending",description:"Deslogando"},TalkingWithPause:{value:"TalkingWithPause",description:"Falando com pedido de pausa"},WrapWithPause:{value:"WrapWithPause",description:"Tabulando com pedido de pausa"},TalkingWithEnding:{value:"TalkingWithEnding",description:"Falando com pedido de sa\xedda do OLOS"},WrapWithEnding:{value:"WrapWithEnding",description:"Tabulando com pedido de sa\xedda do OLOS"},Consulting:{value:"Consulting",description:"Consultando"},Chat:{value:"Chat",description:"Chat"},ChatWithPause:{value:"ChatWithPause",description:"Chat"},ChatWithEnding:{value:"ChatWithEnding",description:"Chat"},ConsultingWithPause:{value:"ConsultingWithPause",description:"Consulta com pedido de pausa"},ConsultingWithPause:{value:"ConsultingWithEnding",description:"Consulta com pedido de sa\xedda do OLOS"},Transfer:{value:"Transfer",description:"Consulta com pedido de sa\xedda do OLOS"},Holding:{value:"Holding",description:"Chamada em espera"},HoldingWithPause:{value:"HoldingWithPause",description:"Chamada em espera com pedido de pausa"},HoldingWithEnding:{value:"HoldingWithEnding",Description:"Chamada em espera com pedido de sa\xedda do OLOS"},ManualCall:{value:"ManualCall",description:"Chamada manual"},TalkingWithManualCall:{value:"TalkingWithManualCall",description:"Falando com pedido de chamada manual"},WrapWithManualCall:{value:"WrapWithManualCall",description:"Tabulando com pedido de chamada manual"},ConsultingWithManualCall:{value:"ConsultingWithManualCall",description:"Consultando com pedido de chamada manual"},HoldingWithManualCall:{value:"HoldingWithManualCall",description:"Chamada em espera com pedido de chamada manual"},Redial:{value:"Redial",description:"Rediscagem"},PrivateCallback:{value:"PrivateCallback",description:"Agendamento privado"},TalkingWithPrivateCallback:{value:"TalkingWithPrivateCallback",description:"Falando com pr\xf3xima chamada em agendamento privado"},WrapWithPrivateCallback:{value:"WrapWithPrivateCallback",description:"Tabulando com pr\xf3xima chamada em agendamento privado"},ManualCallWithPrivateCallback:{value:"ManualCallWithPrivateCallback",description:"Chamada manual com pr\xf3xima chamada em agendamento privado"},ConsultingWithPrivateCallback:{value:"ConsultingWithPrivateCallback",description:"Consulta com pr\xf3xima chamada em agendamento privado"},HoldingWithPrivateCallback:{value:"HoldingWithPrivateCallback",description:"Chamada em espera com pr\xf3xima chamada em agendamento privado"},ThirdPartyCampaign:{value:"ThirdPartyCampaign",description:"ThirdPartyCampaign"},PersonalCall:{value:"PersonalCall",description:"Chamada pessoal"},TalkingWithPersonalCall:{value:"TalkingWithPersonalCall",description:"Falando com chamada pessoal em espera"},WrapWithPersonalCall:{value:"WrapWithPersonalCall",description:"Tabulando com chamada pessoal em espera"},ManualCallWithPersonalCall:{value:"ManualCallWithPersonalCall",description:"Chamada manual com chamada pessoal em espera"},ConsultingWithPersonalCall:{value:"ConsultingWithPersonalCall",description:"Consulta com chamada pessoal em espera"},HoldingWithPersonalCall:{value:"HoldingWithPersonalCall",description:"Chamada em espera com chamada pessoal em espera"},PersonalCallWithEnding:{value:"PersonalCallWithEnding",description:"Chamada pessoal com pedido de sa\xedda do OLOS"},PersonalCallWithPause:{value:"PersonalCallWithPause",description:"Chamada pessoal com pedido de pausa"},Analyzing:{value:"Analyzing",description:"Analisando"},AnalyzingWithPersonalCall:{value:"AnalyzingWithPersonalCall",description:"Analisando com chamada pessoal em espera"},Attempting:{value:"Attempting ",description:"Discando"},AttemptingWithPersonalCall:{value:"AttemptingWithPersonalCall ",description:"Analisando com chamada pessoal em espera"},AfterAttempting:{value:"AfterAttempting",description:"P\xf3s-Tentativa"},AfterAttemptWithPersonalCall:{value:"AfterAttemptWithPersonalCall",description:"Discando com chamada pessoal em espera"},AttemptingWithPrivateCallback:{value:"AttemptingWithPrivateCallback",description:"Discando com pr\xf3xima chamada em agendamento privado"},RedialWithPersonalCall:{value:"RedialWithPersonalCall",description:"Resdiscando com pedido de chamada pessoal"}},enumAgentEventType={NOTHING:"Nothing",LOGIN_CCM:"LoginCCM",LOGOUT_CCM:"LogoutCCM",LOGIN_CAMPAIGN:"LoginCampaign",LOGOUT_CAMPAIGN:"LogoutCampaign",CHANGE_STATUS:"ChangeStatus",SCREEN_POP:"ScreenPop",CHANGE_STATUS_FAIL:"ChangeStatusFail",DISPOSITION_REQUEST_FAIL:"DispositionRequestFail",LOGIN_CCM_FAIL:"LoginCCMFail",LOGIN_CAMPAIGN_FAIL:"LoginCampaignFail",LOGOUT_CCM_FAIL:"LogoutCCMFail",LOGOUT_CAMPAIGN_FAIL:"LogoutCampaignFail",ONLINE_CAMPAIGN_CHANGE_STATUS_ID:"OnlineCampaignChangeStatusId",PASS_CODE:"PassCode",NEW_CHAT:"NewChat",NEW_CHAT_MSG:"NewChatMsg",END_CHAT:"EndChat",NEW_MESSAGE:"NewMessage",CONSULTING_REQUEST_FAIL:"ConsultingRequestFail",ACTIVE_CALL:"ActiveCall",MANUAL_CALL_REQUEST_FAIL:"ManualCallRequestFail",CHANGE_MANUAL_CALL_STATE:"ChangeManualCallState",REDIAL_REQUEST_FAIL:"RedialRequestFail",REDIAL_SUCCESS:"RedialSuccess",LIST_ACTIVE_CALLS:"ListActiveCalls",PRIVATE_CALLBACK_FAIL:"PrivateCallbackFail",THIRD_PARTY_SCREEN_POP:"ThirdPartyScreenPop",ChangePreviewCallState:"ChangePreviewCallState",ChangePreviewCallResult:"ChangePreviewCallResult"},enumCallStatus={Started:"Started",CustomerConnected:"CustomerConnected",CustomerConnected:"CustomerConnected",Finished:"Finished",AgentConnected:"AgentConnected"};OlosUserConfigWS.prototype.trigger=function(a,b){this._callbacks[a]&&this._callbacks[a].fire(b);
},OlosUserConfigWS.prototype.on=function(a,b){this._callbacks[a]||(this._callbacks[a]=$.Callbacks()),this._callbacks[a].add(b)},OlosUserConfigWS.prototype.off=function(a){this._callbacks[a]&&(this._callbacks[a]=null)},OlosUserConfigWS.prototype.connect=function(a){this.wsAgentCmd=a.wsAgentCmd,this.wsAgentEvt=a.wsAgentEvt,this.wsMailingCmd=a.wsMailingCmd,this.wsAgentConfigCmd=a.wsAgentConfigCmd,this.wsIntegration=a.wsIntegration},OlosUserConfigWS.prototype.ajaxCall=function(a,b,c,d){var e=$.ajax({url:this.wsAgentConfigCmd+"/"+a,contentType:"application/json; charset=utf-8",dataType:"jsonp",jsonp:"callback",context:this,data:b});e.done(c),e.fail(d)},OlosUserConfigWS.prototype.getCampaignByUserLogin=function(a,b,c,d){var e="GetCampaignByUserLogin",f="Login="+a,g=function(a){d.call(this,a)},h=function(a,b,c){};this.ajaxCall(e,f,g,h)};